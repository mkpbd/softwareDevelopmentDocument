
গত পর্বে আমরা আমাদের প্রথম অ্যাঙ্গুলার অ্যাপ্লিকেশন তৈরি করেছিলাম। এবার আমরা সেই অ্যাপ্লিকেশনের ভেতরের কিছু মূল উপাদান নিয়ে আলোচনা করবো: মডিউল, কম্পোনেন্ট এবং টেমপ্লেট। এরপর দেখবো কীভাবে কম্পোনেন্ট এবং টেমপ্লেটের মধ্যে ডেটা আদান-প্রদান করা যায়, যাকে বলে ডেটা বাইন্ডিং।

**১. মডিউল (Modules - `@NgModule`)**

অ্যাঙ্গুলারে, একটি মডিউল হলো একটি কন্টেইনার বা ধারক যা একটি অ্যাপ্লিকেশনের বিভিন্ন অংশকে (যেমন কম্পোনেন্ট, সার্ভিস, ডাইরেক্টিভ, পাইপ) একসাথে সংগঠিত করে। প্রতিটি অ্যাঙ্গুলার অ্যাপ্লিকেশনের কমপক্ষে একটি রুট মডিউল (root module) থাকে, যার প্রচলিত নাম `AppModule`। বড় অ্যাপ্লিকেশনকে ছোট ছোট ফিচার মডিউলে ভাগ করা যায়, যাতে কোড পরিচালনা করা সহজ হয়।

*   **`@NgModule` ডেকোরেটর:** একটি ক্লাসকে অ্যাঙ্গুলার মডিউল হিসেবে চিহ্নিত করার জন্য `@NgModule` ডেকোরেটর ব্যবহার করা হয়। এই ডেকোরেটরের মধ্যে আমরা মডিউলের বিভিন্ন বৈশিষ্ট্য (metadata) উল্লেখ করি।

**`@NgModule` এর প্রধান কিছু প্রোপার্টি:**

*   **`declarations`**: এই মডিউলের অধীনে থাকা কম্পোনেন্ট (components), ডাইরেক্টিভ (directives), এবং পাইপ (pipes) গুলো এখানে ডিক্লেয়ার করা হয়। একটি কম্পোনেন্ট, ডাইরেক্টিভ বা পাইপ শুধুমাত্র একটি মডিউলেই ডিক্লেয়ার করা যায়।
*   **`imports`**: অন্যান্য মডিউল, যেগুলোর এক্সপোর্ট করা ফিচার এই মডিউলে ব্যবহার করতে চাই, সেগুলো এখানে ইমপোর্ট করা হয়। যেমন, আমরা যদি ব্রাউজারে অ্যাপ্লিকেশন চালাতে চাই, তাহলে `BrowserModule` ইমপোর্ট করতে হয়। যদি ফর্ম ব্যবহার করতে চাই, `FormsModule` বা `ReactiveFormsModule` ইমপোর্ট করতে হয়।
*   **`providers`**: সার্ভিস (services) গুলো এখানে রেজিস্টার করা হয়, যাতে সেগুলো পুরো মডিউলে অথবা পুরো অ্যাপ্লিকেশনে ইনজেক্টেবল (ব্যবহারযোগ্য) হয়।
*   **`bootstrap`**: শুধুমাত্র রুট মডিউলে (সাধারণত `AppModule`) এই প্রোপার্টিটি ব্যবহার করা হয়। এখানে রুট কম্পোনেন্ট (সাধারণত `AppComponent`) উল্লেখ করা হয়, যেটি অ্যাপ্লিকেশন শুরু হওয়ার সময় `index.html` এ লোড হবে।
*   **`exports`**: এই মডিউলের যে কম্পোনেন্ট, ডাইরেক্টিভ বা পাইপগুলো অন্য মডিউলে ব্যবহার করার জন্য উন্মুক্ত করতে চাই, সেগুলো এখানে উল্লেখ করা হয়।

**উদাহরণ (src/app/app.module.ts):**

```typescript
import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';

import { AppRoutingModule } from './app-routing.module'; // রাউটিং মডিউল
import { AppComponent } from './app.component';      // আমাদের রুট কম্পোনেন্ট

@NgModule({
  declarations: [
    AppComponent  // AppComponent কে এই মডিউলে ডিক্লেয়ার করা হয়েছে
  ],
  imports: [
    BrowserModule,    // ব্রাউজারে অ্যাপ চালানোর জন্য
    AppRoutingModule  // রাউটিং এর জন্য (যদি ng new করার সময় রাউটিং অ্যাড করে থাকো)
  ],
  providers: [],      // আপাতত কোনো সার্ভিস নেই
  bootstrap: [AppComponent] // AppComponent দিয়ে অ্যাপ শুরু হবে
})
export class AppModule { }
```

**২. কম্পোনেন্ট (Components - `@Component`)**

কম্পোনেন্ট হলো অ্যাঙ্গুলার অ্যাপ্লিকেশনের মূল বিল্ডিং ব্লক। প্রতিটি কম্পোনেন্ট একটি নির্দিষ্ট UI (ইউজার ইন্টারফেস) অংশ এবং তার লজিক নিয়ন্ত্রণ করে। একটি কম্পোনেন্ট মূলত তিনটি অংশ নিয়ে গঠিত:

*   **টেমপ্লেট (Template):** এটি HTML কোড, যা ব্রাউজারে কীভাবে দেখানো হবে তা নির্ধারণ করে।
*   **ক্লাস (Class):** এটি TypeScript ক্লাস, যেখানে ডেটা (প্রোপার্টি) এবং লজিক (মেথড) থাকে যা টেমপ্লেটকে নিয়ন্ত্রণ করে।
*   **মেটাডেটা (Metadata):** `@Component` ডেকোরেটর ব্যবহার করে এই মেটাডেটা ডিফাইন করা হয়, যা অ্যাঙ্গুলারকে বলে দেয় যে ক্লাসটি কীভাবে একটি কম্পোনেন্ট হিসেবে কাজ করবে।

**`@Component` ডেকোরেটরের প্রধান কিছু প্রোপার্টি:**

*   **`selector`**: এটি একটি CSS সিলেক্টরের মতো। এই সিলেক্টর ব্যবহার করে আমরা এই কম্পোনেন্টকে অন্য কোনো কম্পোনেন্টের টেমপ্লেটে একটি HTML ট্যাগের মতো ব্যবহার করতে পারি। যেমন, `app-root` সিলেক্টর থাকলে, আমরা `<app-root></app-root>` এভাবে ব্যবহার করতে পারি।
*   **`templateUrl`**: কম্পোনেন্টের HTML টেমপ্লেট ফাইলের পাথ (পথ)। যেমন: `'./app.component.html'`।
*   **`styleUrls`**: কম্পোনেন্টের জন্য নির্দিষ্ট CSS স্টাইলশীট ফাইলের পাথ (একটি অ্যারে হিসেবে)। যেমন: `['./app.component.css']`।
*   **`template`**: `templateUrl` এর পরিবর্তে সরাসরি HTML কোড স্ট্রিং হিসেবে এখানে লেখা যায় (সাধারণত ছোট টেমপ্লেটের জন্য)।
*   **`styles`**: `styleUrls` এর পরিবর্তে সরাসরি CSS কোড স্ট্রিং এর অ্যারে হিসেবে এখানে লেখা যায়।

**উদাহরণ (src/app/app.component.ts):**

```typescript
import { Component } from '@angular/core';

@Component({
  selector: 'app-root', // HTML এ <app-root></app-root> লিখলে এই কম্পোনেন্ট লোড হবে
  templateUrl: './app.component.html', // এই কম্পোনেন্টের HTML ফাইল
  styleUrls: ['./app.component.css']   // এই কম্পোনেন্টের CSS ফাইল
})
export class AppComponent {
  // ক্লাস প্রোপার্টি (ডেটা)
  title: string = 'my-first-app'; // এই title প্রোপার্টি আমরা টেমপ্লেটে ব্যবহার করবো
  welcomeMessage: string = 'অ্যাঙ্গুলার ক্লাসে স্বাগতম!';

  // ক্লাস মেথড (লজিক)
  constructor() {
    // কম্পোনেন্ট তৈরি হওয়ার সময় এই কোড রান হবে
    console.log('AppComponent তৈরি হয়েছে!');
  }

  greetUser(): string {
    return 'হ্যালো শিক্ষার্থী!';
  }
}
```

**৩. টেমপ্লেট (Templates)**

টেমপ্লেট হলো HTML এর একটি খণ্ড যা অ্যাঙ্গুলারকে বলে দেয় কীভাবে একটি কম্পোনেন্ট ব্রাউজারে রেন্ডার (প্রদর্শন) করতে হবে। অ্যাঙ্গুলারের টেমপ্লেট সিনট্যাক্স সাধারণ HTML এর সাথে কিছু অতিরিক্ত ফিচার যোগ করে, যা দিয়ে আমরা ডায়নামিক কনটেন্ট দেখাতে পারি।

**উদাহরণ (src/app/app.component.html):**

```html
<!-- স্ট্যাটিক HTML -->
<h1>আমার প্রথম অ্যাঙ্গুলার অ্যাপ</h1>
<p>এটি একটি সাধারণ প্যারাগ্রাফ।</p>

<!-- এখানে অ্যাঙ্গুলারের বিশেষ সিনট্যাক্স ব্যবহার করা হবে ডেটা বাইন্ডিং এর জন্য -->
```

এখন আমরা দেখবো কীভাবে `app.component.ts` ফাইলের `title` বা `welcomeMessage` প্রোপার্টির মান এই `app.component.html` ফাইলে দেখানো যায়। এখানেই আসে **ডেটা বাইন্ডিং**।

**৪. ডেটা বাইন্ডিং (Data Binding)**

ডেটা বাইন্ডিং হলো কম্পোনেন্টের ক্লাস (TypeScript) এবং টেমপ্লেট (HTML) এর মধ্যে যোগাযোগ স্থাপন করার একটি প্রক্রিয়া। এর মাধ্যমে আমরা ক্লাস থেকে ডেটা টেমপ্লেটে দেখাতে পারি, টেমপ্লেটের ইভেন্ট (যেমন বাটনে ক্লিক) ক্লাসে হ্যান্ডেল করতে পারি, এবং ব্যবহারকারীর ইনপুট ক্লাসের ডেটার সাথে সিঙ্ক্রোনাইজ করতে পারি।

অ্যাঙ্গুলারে প্রধানত চার ধরনের ডেটা বাইন্ডিং আছে:

**ক. ইন্টারপোলেশন (Interpolation) / স্ট্রিং ইন্টারপোলেশন `{{ }}` (একমুখী: ক্লাস থেকে টেমপ্লেটে)**

এটি সবচেয়ে সহজ ডেটা বাইন্ডিং। এর মাধ্যমে কম্পোনেন্ট ক্লাসের কোনো প্রোপার্টির মান টেমপ্লেটে স্ট্রিং হিসেবে দেখানো যায়। ডাবল কার্লি ব্রেস `{{ }}` এর মধ্যে প্রোপার্টির নাম লিখতে হয়।

**উদাহরণ:**

*   **`app.component.ts`** (আগের মতোই থাকবে):
    ```typescript
    // ... (বাকি কোড)
    export class AppComponent {
      title: string = 'my-first-app';
      welcomeMessage: string = 'অ্যাঙ্গুলার ক্লাসে স্বাগতম!';
      currentYear: number = new Date().getFullYear();

      greetUser(): string {
        return 'হ্যালো শিক্ষার্থী!';
      }
    }
    ```

*   **`app.component.html`** এ ইন্টারপোলেশন ব্যবহার:
    ```html
    <h1>অ্যাপ্লিকেশনের নাম: {{ title }}</h1>
    <p>{{ welcomeMessage }}</p>
    <p>আজকের বছর: {{ currentYear }}</p>
    <p>{{ greetUser() }}</p> <!-- মেথড কলও করা যায় -->
    <p>একটি সহজ হিসাব: {{ 10 + 20 }}</p> <!-- এক্সপ্রেশনও ব্যবহার করা যায় -->
    ```

    এখন যদি `ng serve` দিয়ে অ্যাপ্লিকেশনটি দেখো, তাহলে `title`, `welcomeMessage` ইত্যাদির মান HTML এ দেখতে পাবে। যদি তুমি `app.component.ts` ফাইলে `title` এর মান পরিবর্তন করে সেভ করো, ব্রাউজারে সেই পরিবর্তন অটোমেটিকভাবে দেখতে পাবে।

**খ. প্রোপার্টি বাইন্ডিং (Property Binding) `[property]` (একমুখী: ক্লাস থেকে টেমপ্লেটে)**

HTML এলিমেন্টের বিভিন্ন প্রোপার্টি (যেমন `src`, `href`, `disabled`, `value` ইত্যাদি) ডায়নামিকভাবে সেট করার জন্য প্রোপার্টি বাইন্ডিং ব্যবহার করা হয়। টার্গেট প্রোপার্টিকে থার্ড ব্র্যাকেট `[ ]` এর মধ্যে রাখা হয় এবং এর মান হিসেবে কম্পোনেন্ট ক্লাসের কোনো প্রোপার্টি বা এক্সপ্রেশন দেওয়া হয়।

**উদাহরণ:**

*   **`app.component.ts`**:
    ```typescript
    // ...
    export class AppComponent {
      // ... (আগের প্রোপার্টিগুলো)
      imageUrl: string = 'https://angular.io/assets/images/logos/angular/angular.svg';
      isButtonDisabled: boolean = false;
      buttonText: string = 'ক্লিক করুন';
    }
    ```

*   **`app.component.html`** এ প্রোপার্টি বাইন্ডিং:
    ```html
    <!-- একটি ছবির src অ্যাট্রিবিউট বাইন্ড করা হচ্ছে -->
    <img [src]="imageUrl" alt="Angular Logo" width="100">

    <!-- একটি বাটনের disabled প্রোপার্টি বাইন্ড করা হচ্ছে -->
    <button [disabled]="isButtonDisabled">{{ buttonText }}</button>

    <!-- একটি ইনপুট ফিল্ডের value প্রোপার্টি বাইন্ড করা হচ্ছে -->
    <input type="text" [value]="welcomeMessage">
    ```

    *গুরুত্বপূর্ণ:* ইন্টারপোলেশন (`{{ }}`) মূলত স্ট্রিং ভ্যালুর জন্য ব্যবহৃত হয়। কিন্তু প্রোপার্টি বাইন্ডিং (`[ ]`) যেকোনো টাইপের ভ্যালু (যেমন boolean, number) HTML এলিমেন্টের প্রোপার্টিতে সেট করতে পারে। যেমন, `[disabled]="isButtonDisabled"` এখানে `isButtonDisabled` যদি `true` হয়, বাটনটি ডিজেবল হয়ে যাবে।

**গ. ইভেন্ট বাইন্ডিং (Event Binding) `(event)` (একমুখী: টেমপ্লেট থেকে ক্লাসে)**

HTML এলিমেন্টের বিভিন্ন ইভেন্ট (যেমন `click`, `mouseover`, `keyup`) ঘটলে কম্পোনেন্ট ক্লাসের কোনো মেথড কল করার জন্য ইভেন্ট বাইন্ডিং ব্যবহার করা হয়। টার্গেট ইভেন্টকে প্রথম বন্ধনী `( )` এর মধ্যে রাখা হয় এবং এর মান হিসেবে ক্লাসের মেথড কল করা হয়।

**উদাহরণ:**

*   **`app.component.ts`**:
    ```typescript
    // ...
    export class AppComponent {
      // ... (আগের প্রোপার্টিগুলো)
      clickCount: number = 0;
      message: string = '';

      onButtonClick(): void {
        this.clickCount++;
        this.message = `আপনি ${this.clickCount} বার ক্লিক করেছেন!`;
        console.log('বাটনে ক্লিক করা হয়েছে!');
      }

      onInputChange(event: any): void { // event অবজেক্ট থেকে ইনপুটের ভ্যালু পাওয়া যায়
        // console.log(event); // পুরো ইভেন্ট অবজেক্ট দেখতে পারো
        this.message = 'আপনি টাইপ করছেন: ' + (event.target as HTMLInputElement).value;
      }
    }
    ```

*   **`app.component.html`** এ ইভেন্ট বাইন্ডিং:
    ```html
    <!-- বাটনে ক্লিক করলে onButtonClick() মেথড কল হবে -->
    <button (click)="onButtonClick()">আমাকে ক্লিক করো</button>
    <p>{{ message }}</p>

    <!-- ইনপুট ফিল্ডে কিছু টাইপ করলে (keyup ইভেন্ট) onInputChange() মেথড কল হবে -->
    <input type="text" (keyup)="onInputChange($event)" placeholder="এখানে কিছু লিখুন...">
    <p>{{ message }}</p> <!-- এই message আগের onButtonClick এর message ওভাররাইট করবে, অথবা একটি আলাদা message ভেরিয়েবল ব্যবহার করতে পারো -->
    ```
    *   `$event`: ইভেন্ট বাইন্ডিংয়ের সময় `$event` নামক একটি বিশেষ ভেরিয়েবল ব্যবহার করা যায়, যা DOM ইভেন্ট অবজেক্টকে ধারণ করে। এই অবজেক্ট থেকে আমরা ইভেন্ট সম্পর্কিত বিভিন্ন তথ্য (যেমন, কোন কী চাপা হয়েছে, মাউসের পজিশন, ইনপুট ভ্যালু ইত্যাদি) পেতে পারি।
    *   `(event.target as HTMLInputElement).value`: এখানে `event.target` হলো যে HTML এলিমেন্টে ইভেন্টটি ঘটেছে (এক্ষেত্রে ইনপুট ফিল্ড)। TypeScript কে জানানোর জন্য `as HTMLInputElement` ব্যবহার করা হয়েছে যে `event.target` একটি HTML ইনপুট এলিমেন্ট, যাতে আমরা এর `value` প্রোপার্টি অ্যাক্সেস করতে পারি।

**ঘ. টু-ওয়ে ডেটা বাইন্ডিং (Two-way Data Binding) `[(ngModel)]` (দ্বিমুখী: ক্লাস 🔁 টেমপ্লেট)**

টু-ওয়ে ডেটা বাইন্ডিংয়ের মাধ্যমে কম্পোনেন্ট ক্লাসের প্রোপার্টি এবং টেমপ্লেটের ইনপুট ফিল্ডের মান একই সাথে সিঙ্ক্রোনাইজড থাকে। অর্থাৎ, ক্লাসের প্রোপার্টির মান পরিবর্তন হলে ইনপুট ফিল্ডের মানও পরিবর্তন হয়, আবার ইনপুট ফিল্ডে ব্যবহারকারী কিছু টাইপ করলে ক্লাসের প্রোপার্টির মানও অটোমেটিকভাবে আপডেট হয়ে যায়।

এটি মূলত `[()]` সিনট্যাক্স ব্যবহার করে, যা "ব্যানানা ইন এ বক্স" (banana in a box) নামেও পরিচিত। `ngModel` ডাইরেক্টিভ এর সাথে এটি ব্যবহৃত হয়।

**`ngModel` ব্যবহার করার জন্য `FormsModule` ইমপোর্ট করতে হবে।**

1.  **`app.module.ts` ফাইলে `FormsModule` ইমপোর্ট করো:**
    ```typescript
    import { NgModule } from '@angular/core';
    import { BrowserModule } from '@angular/platform-browser';
    import { FormsModule } from '@angular/forms'; // FormsModule ইমপোর্ট করো

    import { AppRoutingModule } from './app-routing.module';
    import { AppComponent } from './app.component';

    @NgModule({
      declarations: [
        AppComponent
      ],
      imports: [
        BrowserModule,
        AppRoutingModule,
        FormsModule // FormsModule কে imports অ্যারেতে যোগ করো
      ],
      providers: [],
      bootstrap: [AppComponent]
    })
    export class AppModule { }
    ```
    *গুরুত্বপূর্ণ:* `FormsModule` যোগ করার পর `ng serve` রিস্টার্ট করতে হতে পারে যদি এটি অটো-রিফ্রেশ না হয়।

2.  **`app.component.ts`**:
    ```typescript
    // ...
    export class AppComponent {
      // ... (আগের প্রোপার্টিগুলো)
      username: string = 'শিক্ষার্থী';
    }
    ```

3.  **`app.component.html`** এ  টু-ওয়ে  ডেটা বাইন্ডিং:
    ```html
    <hr>
    <h3>টু-ওয়ে ডেটা বাইন্ডিং:</h3>
    <input type="text" [(ngModel)]="username">
    <p>স্বাগতম, {{ username }}!</p>
    ```

    এখন, তুমি যদি ইনপুট ফিল্ডে `username` এর মান পরিবর্তন করো, নিচের `<p>` ট্যাগের লেখাও সাথে সাথে পরিবর্তন হবে। আবার, যদি তুমি কোডের মাধ্যমে `username` এর মান পরিবর্তন করো (যেমন কোনো বাটনে ক্লিক করে), ইনপুট ফিল্ডেও সেই পরিবর্তন দেখতে পাবে।

---

**আজকের সারসংক্ষেপ:**
*   **মডিউল (`@NgModule`):** অ্যাপ্লিকেশনের বিভিন্ন অংশকে সংগঠিত করে। `declarations`, `imports`, `providers`, `bootstrap` এর কাজ।
*   **কম্পোনেন্ট (`@Component`):** UI এর একটি অংশ এবং তার লজিক। `selector`, `templateUrl`, `styleUrls` এর কাজ।
*   **টেমপ্লেট:** কম্পোনেন্টের HTML ভিউ।
*   **ডেটা বাইন্ডিং:**
    *   **ইন্টারপোলেশন `{{ data }}`:** ক্লাস থেকে টেমপ্লেটে স্ট্রিং দেখানো।
    *   **প্রোপার্টি বাইন্ডিং `[property]="data"`:** HTML এলিমেন্টের প্রোপার্টি ডায়নামিকভাবে সেট করা।
    *   **ইভেন্ট বাইন্ডিং `(event)="handler()"`:** টেমপ্লেটের ইভেন্টে ক্লাসের মেথড কল করা।
    *   **টু-ওয়ে বাইন্ডিং `[(ngModel)]="data"`:** ক্লাস এবং টেমপ্লেটের মধ্যে ডেটা সিঙ্ক্রোনাইজেশন (এর জন্য `FormsModule` প্রয়োজন)।

এই কনসেপ্টগুলো অ্যাঙ্গুলারের ভিত্তি। এগুলো ভালোভাবে বুঝতে পারলে পরবর্তী বিষয়গুলো শেখা অনেক সহজ হবে।

**পরবর্তী পর্ব:** আমরা ডাইরেক্টিভ (Directives) এবং পাইপ (Pipes) নিয়ে আলোচনা করবো।

