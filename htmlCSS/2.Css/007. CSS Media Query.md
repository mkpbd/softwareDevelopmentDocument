CSS মিডিয়া কোয়েরি (CSS Media Queries) হলো একটি CSS3 মডিউল যা ওয়েব পেজের স্টাইলকে বিভিন্ন ডিভাইসের বৈশিষ্ট্য (যেমন স্ক্রিনের প্রস্থ, উচ্চতা, ওরিয়েন্টেশন, রেজোলিউশন ইত্যাদি) অনুযায়ী পরিবর্তন করতে দেয়। এটি রেসপন্সিভ ওয়েব ডিজাইন (Responsive Web Design - RWD) তৈরির একটি অপরিহার্য অংশ, যার মাধ্যমে ওয়েবসাইট বা ওয়েব অ্যাপ্লিকেশন বিভিন্ন স্ক্রিন সাইজ এবং ডিভাইসে সঠিকভাবে প্রদর্শিত হয় এবং ব্যবহারযোগ্য থাকে।

মিডিয়া কোয়েরি `@media` রুল ব্যবহার করে লেখা হয়।

**মিডিয়া কোয়েরির মৌলিক সিনট্যাক্স:**

```css
@media [not | only] <media-type> [and (<media-feature>)] [and (<media-feature>)]* {
    /* CSS রুলস এখানে লেখা হয়, যা শর্ত পূরণ হলে প্রযোজ্য হবে */
}
```

*   **`@media`**: মিডিয়া কোয়েরি শুরু করার কীওয়ার্ড।
*   **`not` / `only` (ঐচ্ছিক কীওয়ার্ড)**:
    *   `not`: পুরো মিডিয়া কোয়েরিকে নেগেট (বিপরীত) করে। যদি শর্ত পূরণ না হয়, তাহলে ভেতরের স্টাইল প্রযোজ্য হবে।
    *   `only`: পুরনো ব্রাউজার যারা মিডিয়া ফিচার বুঝতে পারে না, তাদের থেকে স্টাইল রুল লুকাতে ব্যবহৃত হয়। আধুনিক ব্রাউজারে এর তেমন প্রয়োজন নেই।
*   **`<media-type>` (মিডিয়া টাইপ)**: কোয়েরিটি কোন ধরনের মিডিয়ার জন্য প্রযোজ্য তা নির্দিষ্ট করে।
    *   `all`: সব ধরনের ডিভাইসের জন্য (ডিফল্ট)।
    *   `print`: প্রিন্ট করার সময় বা প্রিন্ট প্রিভিউতে।
    *   `screen`: কম্পিউটার স্ক্রিন, ট্যাবলেট, স্মার্টফোন ইত্যাদি।
    *   `speech`: স্ক্রিন রিডারদের জন্য। (বর্তমানে খুব বেশি ব্যবহৃত হয় না)
*   **`<media-feature>` (মিডিয়া ফিচার)**: ডিভাইসের নির্দিষ্ট বৈশিষ্ট্য এবং তার মান পরীক্ষা করার জন্য ব্যবহৃত হয়। এগুলো বন্ধনীর `()` মধ্যে লেখা হয়।
    *   সাধারণ মিডিয়া ফিচারগুলো হলো: `width`, `height`, `max-width`, `min-width`, `orientation`, `resolution`, `aspect-ratio` ইত্যাদি।

---

**সাধারণ মিডিয়া ফিচার এবং তাদের ব্যবহার:**

1.  **`width`, `height`**: ভিউপোর্টের (ব্রাউজার উইন্ডোর দৃশ্যমান অংশ) প্রস্থ বা উচ্চতা।
    *   **`min-width`**: ভিউপোর্টের প্রস্থ যদি নির্দিষ্ট মানের *সমান বা তার বেশি* হয়। (সাধারণত মোবাইল-ফার্স্ট ডিজাইনে বড় স্ক্রিনের জন্য স্টাইল লিখতে ব্যবহৃত হয়)।
    *   **`max-width`**: ভিউপোর্টের প্রস্থ যদি নির্দিষ্ট মানের *সমান বা তার কম* হয়। (সাধারণত ডেস্কটপ-ফার্স্ট ডিজাইনে ছোট স্ক্রিনের জন্য স্টাইল লিখতে ব্যবহৃত হয়)।
    *   **`min-height`, `max-height`**: উচ্চতার জন্য একই রকম।

2.  **`orientation`**: ভিউপোর্টের ওরিয়েন্টেশন।
    *   `portrait`: যখন ভিউপোর্টের উচ্চতা প্রস্থের চেয়ে বেশি বা সমান।
    *   `landscape`: যখন ভিউপোর্টের প্রস্থ উচ্চতার চেয়ে বেশি।

3.  **`resolution`**: ডিভাইসের আউটপুট রেজোলিউশন (যেমন `dpi` - dots per inch, `dpcm` - dots per centimeter, `dppx` - dots per pixel unit)। হাই-রেজোলিউশন ডিসপ্লে (যেমন রেটিনা ডিসপ্লে) টার্গেট করতে ব্যবহৃত হয়।
    *   `min-resolution`
    *   `max-resolution`

4.  **`aspect-ratio`**: ভিউপোর্টের প্রস্থ এবং উচ্চতার অনুপাত।
    *   `min-aspect-ratio`
    *   `max-aspect-ratio`
    *   উদাহরণ: `aspect-ratio: 16/9`

5.  **`hover`**: ব্যবহারকারীর প্রধান ইনপুট মেকানিজম হোভার সমর্থন করে কিনা।
    *   `hover: hover`: হোভার সমর্থন করে (যেমন মাউস)।
    *   `hover: none`: হোভার সমর্থন করে না (যেমন বেশিরভাগ টাচস্ক্রিন)।

6.  **`pointer`**: ব্যবহারকারীর প্রধান ইনপুট মেকানিজমের নির্ভুলতা।
    *   `pointer: fine`: নির্ভুল পয়েন্টিং ডিভাইস (যেমন মাউস, স্টাইলাস)।
    *   `pointer: coarse`: কম নির্ভুল পয়েন্টিং ডিভাইস (যেমন আঙুল দিয়ে টাচস্ক্রিন)।
    *   `pointer: none`: কোনো পয়েন্টিং ডিভাইস নেই।

7.  **`prefers-reduced-motion`**: ব্যবহারকারী অপারেটিং সিস্টেমে অ্যানিমেশন বা মোশন কমানোর জন্য অনুরোধ করেছেন কিনা।
    *   `prefers-reduced-motion: reduce`
    *   `prefers-reduced-motion: no-preference`

8.  **`prefers-color-scheme`**: ব্যবহারকারী লাইট বা ডার্ক কালার স্কিম পছন্দ করেন কিনা।
    *   `prefers-color-scheme: light`
    *   `prefers-color-scheme: dark`

---

**উদাহরণ:**

**১. স্ক্রিনের প্রস্থের উপর ভিত্তি করে স্টাইল পরিবর্তন (মোবাইল-ফার্স্ট অ্যাপ্রোচ):**

```css
/* ডিফল্ট স্টাইল (ছোট স্ক্রিন / মোবাইল) */
body {
    font-size: 16px;
    background-color: lightblue;
}

.container {
    width: 95%;
    margin: 0 auto;
}

.sidebar {
    display: none; /* ছোট স্ক্রিনে সাইডবার দেখাবে না */
}

/* ট্যাবলেট (যেমন, 600px এবং তার বেশি) */
@media screen and (min-width: 600px) {
    body {
        font-size: 18px;
        background-color: lightgreen;
    }
    .container {
        width: 90%;
    }
}

/* ছোট ডেস্কটপ / বড় ট্যাবলেট (যেমন, 768px এবং তার বেশি) */
@media screen and (min-width: 768px) {
    .container {
        display: flex; /* ফ্লেক্সবক্স ব্যবহার করে কন্টেন্ট ও সাইডবার পাশাপাশি */
    }
    .main-content {
        flex: 3; /* প্রধান কন্টেন্ট ৩ ভাগ জায়গা নেবে */
        margin-right: 20px;
    }
    .sidebar {
        display: block; /* সাইডবার দেখাবে */
        flex: 1; /* সাইডবার ১ ভাগ জায়গা নেবে */
        background-color: #f0f0f0;
        padding: 15px;
    }
}

/* বড় ডেস্কটপ (যেমন, 1200px এবং তার বেশি) */
@media screen and (min-width: 1200px) {
    body {
        background-color: lightyellow;
    }
    .container {
        width: 1140px; /* একটি নির্দিষ্ট সর্বোচ্চ প্রস্থ */
    }
    .main-content {
        font-size: 20px;
    }
}
```

**২. ওরিয়েন্টেশন অনুযায়ী স্টাইল পরিবর্তন:**

```css
@media screen and (orientation: portrait) {
    /* যখন স্ক্রিন লম্বালম্বি (portrait) */
    .profile-image {
        width: 80%; /* ছবি চওড়া হবে */
        margin: 0 auto;
    }
    .image-gallery {
        display: block; /* ছবিগুলো একটির নিচে একটি */
    }
}

@media screen and (orientation: landscape) {
    /* যখন স্ক্রিন আড়াআড়ি (landscape) */
    .profile-image {
        width: 30%;
        float: left;
        margin-right: 20px;
    }
    .image-gallery {
        display: flex; /* ছবিগুলো পাশাপাশি */
        flex-wrap: wrap;
        gap: 10px;
    }
}
```

**৩. প্রিন্টের জন্য স্টাইল:**

```css
@media print {
    body {
        font-family: "Times New Roman", serif;
        color: black;
        background-color: white; /* প্রিন্টে ব্যাকগ্রাউন্ড রঙ সাধারণত সাদা থাকে */
    }
    nav, footer, .ads, .sidebar {
        display: none !important; /* নেভিগেশন, ফুটার, বিজ্ঞাপন ইত্যাদি প্রিন্টে দেখাবে না */
    }
    a {
        text-decoration: none;
        color: black;
    }
    a[href^="http"]::after { /* বাহ্যিক লিঙ্কের পাশে URL দেখাবে */
        content: " (" attr(href) ")";
        font-size: 0.9em;
    }
    .container {
        width: 100%;
        margin: 0;
        box-shadow: none;
    }
}
```

**৪. ডার্ক মোড সাপোর্ট (`prefers-color-scheme`):**

```css
/* ডিফল্ট (লাইট মোড) স্টাইল */
body {
    background-color: #ffffff;
    color: #333333;
}
a { color: #0066cc; }

/* ডার্ক মোডের জন্য স্টাইল */
@media (prefers-color-scheme: dark) {
    body {
        background-color: #121212;
        color: #e0e0e0;
    }
    a { color: #82aaff; }
    .card {
        background-color: #1e1e1e;
        border-color: #333333;
    }
}
```

**৫. লজিক্যাল অপারেটর (`and`, `not`, কমা `,`):**

*   **`and`**: একাধিক শর্ত একত্রিত করতে।
    ```css
    @media screen and (min-width: 700px) and (orientation: landscape) {
        /* স্ক্রিনের প্রস্থ ৭০০px এর বেশি এবং ল্যান্ডস্কেপ হলে */
        .hero-section {
            padding: 100px 0;
        }
    }
    ```
*   **কমা (`,`)**: একাধিক মিডিয়া কোয়েরিকে একত্রিত করতে (OR লজিকের মতো)। যদি যেকোনো একটি কোয়েরি সত্য হয়, তাহলে স্টাইল প্রযোজ্য হবে।
    ```css
    @media screen and (max-width: 600px), print {
        /* স্ক্রিনের প্রস্থ ৬০০px এর কম অথবা প্রিন্ট মিডিয়া হলে */
        .logo {
            max-width: 150px;
        }
    }
    ```
*   **`not`**: একটি নির্দিষ্ট মিডিয়া টাইপ বা ফিচার বাদ দিতে।
    ```css
    @media not screen and (color) {
        /* যে ডিভাইসগুলো রঙিন স্ক্রিন নয়, তাদের জন্য (যেমন মনোক্রোম প্রিন্টার) */
        /* ... */
    }
    ```

**মিডিয়া কোয়েরি ব্যবহারের সেরা অনুশীলন (Best Practices):**

1.  **মোবাইল-ফার্স্ট (Mobile-First) অ্যাপ্রোচ:** প্রথমে ছোট স্ক্রিনের (মোবাইল) জন্য বেস স্টাইল লিখুন, তারপর `min-width` ব্যবহার করে ধীরে ধীরে বড় স্ক্রিনের জন্য স্টাইল যোগ করুন বা পরিবর্তন করুন। এটি সাধারণত আরও কার্যকর এবং পরিচ্ছন্ন কোড তৈরি করে।
2.  **ব্রেকপয়েন্ট (Breakpoints):** কন্টেন্ট যেখানে ভেঙে যায় বা দেখতে খারাপ লাগে, সেখানে ব্রেকপয়েন্ট সেট করুন, নির্দিষ্ট ডিভাইস প্রস্থের উপর ভিত্তি করে নয়।
3.  **আপেক্ষিক ইউনিট (Relative Units):** ফন্ট সাইজ, প্যাডিং, মার্জিন ইত্যাদির জন্য `em`, `rem`, `%`, `vw`, `vh` এর মতো আপেক্ষিক ইউনিট ব্যবহার করুন যাতে লেআউট সহজে স্কেল করতে পারে।
4.  **পরীক্ষা (Testing):** বিভিন্ন ডিভাইস এবং স্ক্রিন সাইজে আপনার ডিজাইন পরীক্ষা করুন। ব্রাউজার ডেভেলপার টুলসের রেসপন্সিভ ডিজাইন মোড খুবই সহায়ক।
5.  **Viewport মেটা ট্যাগ:** HTML ফাইলের `<head>` এ ভিউপোর্ট মেটা ট্যাগ সঠিকভাবে সেট করা নিশ্চিত করুন, যাতে মোবাইল ডিভাইসে পৃষ্ঠা সঠিকভাবে স্কেল হয়:
    ```html
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    ```

মিডিয়া কোয়েরি আধুনিক ওয়েব ডিজাইনের একটি মৌলিক স্তম্ভ। এটি ডেভেলপারদের বিভিন্ন ডিভাইস এবং ব্যবহারকারীর চাহিদার প্রতি সাড়া দিয়ে সুন্দর এবং কার্যকরী ওয়েব অভিজ্ঞতা তৈরি করতে সক্ষম করে।
